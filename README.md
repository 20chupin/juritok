# juritok
First, I varied the vocabulary size to see the influence.

### 500
Here is the tokenisation on the test text with a `vocab_size=500` :
```
['▁L', "'", 'al', 'l', 'oc', 'ation', '▁aux', '▁a', 'd', 'ul', 't', 'es', '▁', 'h', 'an', 'di', 'c', 'ap', 'ées', '▁', 'T', 'ou', 'te', 'f', 'o', 'is', ',', '▁l', "'", 'al', 'l', 'oc', 'ation', '▁aux', '▁a', 'd', 'ul', 't', 'es', '▁', 'h', 'an', 'di', 'c', 'ap', 'é', 's', '▁', 'S', 'er', 'v', 'ic', 'es', '▁p', 'l', 'ac', 'é', 's', '▁sous', '▁l', "'", 'autorité', '▁du', '▁directeur', '▁de', '▁l', "'", 'administration', '▁pénitentiaire', '▁', ':', '▁le', '▁b', 'u', 're', 'au', '▁central', '▁du', '▁', 'r', 'enseignement', '▁pénitentiaire', '▁au', '▁se', 'in', '▁de', '▁la', '▁direct', 'i', 'on', '▁de', '▁l', "'", 'administration', '▁pénitentiaire', '▁et', '▁les', '▁c', 'e', 'l', 'l', 'ul', 'es', '▁inter', 'ré', 'g', 'i', 'on', 'al', 'es', '▁du', '▁', 'r', 'enseignement', '▁pénitentiaire', '▁au', '▁se', 'in', '▁des', '▁direct', 'i', 'on', 's', '▁inter', 'ré', 'g', 'i', 'on', 'al', 'es', '▁des', '▁service', 's', '▁pénitentiaire', 's', '▁et', '▁de', '▁la', '▁mission', '▁des', '▁service', 's', '▁pénitentiaire', 's', '▁d', "'", 'outre', '-', 'm', 'er', '▁', 'S', 'er', 'v', 'ic', 'e', '▁p', 'l', 'ac', 'é', '▁sous', '▁l', "'", 'autorité', '▁du', '▁directeur', '▁de', '▁l', "'", 'administration', '▁pénitentiaire', '▁', ':', '▁le', '▁', 'S', 'er', 'v', 'ic', 'e', '▁national', '▁du', '▁', 'r', 'enseignement', '▁pénitentiaire', '▁', 'P', 'r', 'oc', 'é', 'd', 'ur', 'es', '▁c', 'r', 'im', 'in', 'elle', 's', '▁C', 'our', '▁d', "'", 'a', 's', 's', 'is', 'es', '▁et', '▁', 't', 'r', 'i', 'b', 'un', 'al', '▁pour', '▁en', 'f', 'ant', 's', '▁', 's', 't', 'a', 't', 'u', 'ant', '▁au', '▁c', 'r', 'im', 'in', 'e', 'l', '▁', 'P', 'r', 'oc', 'é', 'd', 'ur', 'es', '▁co', 'r', 're', 'c', 'tion', 'n', 'elle', 's', '▁', 'T', 'r', 'i', 'b', 'un', 'al', '▁co', 'r', 're', 'c', 'tion', 'ne', 'l', ',', '▁', 'j', 'u', 'g', 'e', '▁des', '▁en', 'f', 'ant', 's', '▁et', '▁', 't', 'r', 'i', 'b', 'un', 'al', '▁pour', '▁en', 'f', 'ant', 's', '▁', 'P', 'r', 'oc', 'é', 'd', 'ur', 'es', '▁con', 't', 'ra', 'v', 'en', 'tion', 'n', 'elle', 's', '▁A', 's', 's', 'is', 't', 'ance', '▁d', "'", 'un', '▁pré', 'v', 'en', 'u', '▁ma', 'j', 'eur', '▁', '(', 'c', 'ont', 'ra', 'v', 'en', 'tion', 's', '▁de', '▁police', '▁de', '▁la', '▁5', 'e', '▁classe', ')', ',', '▁d', "'", 'un', '▁pré', 'v', 'en', 'u', '▁m', 'in', 'eur', '▁ou', '▁ma', 'j', 'eur', '▁pro', 't', 'é', 'g', 'é', ',', '▁d', "'", 'une', '▁partie', '▁civil', 'e', '▁ou', '▁d', "'", 'un', '▁civil', 'ement', '▁re', 's', 'p', 'on', 's', 'able', '▁', '(', 'c', 'ont', 'ra', 'v', 'en', 'tion', 's', '▁de', '▁police', '▁de', '▁la', '▁1', 're', '▁à', '▁la', '▁5', 'e', '▁classe', ')', '▁de', 'v', 'ant', '▁le', '▁', 't', 'r', 'i', 'b', 'un', 'al', '▁de', '▁police', '▁C', 'om', 'm', 'is', 'sion', 's', '▁administrat', 'ive', 's', '▁C', 'om', 'm', 'is', 'sion', '▁d', "'", 'e', 'x', 'p', 'ul', 'sion', '▁des', '▁', 'é', 't', 'r', 'an', 'g', 'er', 's', '▁', '−', '▁C', 'om', 'm', 'is', 'sion', '▁de', '▁', 's', 'é', 'j', 'our', '▁des', '▁', 'é', 't', 'r', 'an', 'g', 'er', 's', '▁', 'P', 'r', 'oc', 'é', 'd', 'u', 're', '▁de', '▁ré', 'v', 'i', 'sion', '▁et', '▁de', '▁ré', 'e', 'x', 'a', 'm', 'en', '▁A', 's', 's', 'is', 't', 'ance', '▁ou', '▁re', 'p', 'ré', 's', 'ent', 'ation', '▁du', '▁re', 'qu', 'é', 'r', 'ant', '▁ou', '▁de', '▁la', '▁partie', '▁civil', 'e', '▁', '(', 'in', 's', 't', 'r', 'u', 'c', 'tion', '▁et', '▁', 'j', 'u', 'g', 'ement', ')', '▁de', 'v', 'ant', '▁la', '▁C', 'our', '▁de', '▁ré', 'e', 'x', 'a', 'm', 'en', '▁en', '▁matière', '▁p', 'é', 'n', 'al', 'e', '▁en', '▁', 'P', 'ol', 'y', 'n', 'é', 's', 'i', 'e', '▁français', 'e', ',', '▁sous', '▁ré', 's', 'er', 'v', 'e', '▁des', '▁a', 'd', 'ap', 't', 'ation', 's', '▁suivant', 'es', '▁n', '°', '▁2019', '-1', '5', '0', '5', '▁du', '▁3', '0', '▁décembre', '▁2019', '▁', 'P', 'r', 'oc', 'é', 'd', 'ur', 'es', '▁c', 'r', 'im', 'in', 'elle', 's', '▁C', 'our', '▁d', "'", 'a', 's', 's', 'is', 'es', '▁et', '▁', 't', 'r', 'i', 'b', 'un', 'al', '▁pour', '▁en', 'f', 'ant', 's', '▁', 's', 't', 'a', 't', 'u', 'ant', '▁au', '▁c', 'r', 'im', 'in', 'e', 'l', '▁', 'P', 'r', 'oc', 'é', 'd', 'ur', 'es', '▁co', 'r', 're', 'c', 'tion', 'n', 'elle', 's', '▁', 'T', 'r', 'i', 'b', 'un', 'al', '▁co', 'r', 're', 'c', 'tion', 'ne', 'l', ',', '▁', 'j', 'u', 'g', 'e', '▁des', '▁en', 'f', 'ant', 's', '▁et', '▁', 't', 'r', 'i', 'b', 'un', 'al', '▁pour', '▁en', 'f', 'ant', 's', '▁', 'P', 'r', 'oc', 'é', 'd', 'ur', 'es', '▁con', 't', 'ra', 'v', 'en', 'tion', 'n', 'elle', 's', '▁A', 's', 's', 'is', 't', 'ance', '▁d', "'", 'un', '▁pré', 'v', 'en', 'u', '▁ma', 'j', 'eur', '▁', '(', 'c', 'ont', 'ra', 'v', 'en', 'tion', 's', '▁de', '▁police', '▁de', '▁la', '▁5', 'e', '▁classe', ')', ',', '▁d', "'", 'un', '▁pré', 'v', 'en', 'u', '▁m', 'in', 'eur', '▁ou', '▁ma', 'j', 'eur', '▁pro', 't', 'é', 'g', 'é', '▁', '(', 'c', 'ont', 'ra', 'v', 'en', 'tion', 's', '▁de', '▁police', '▁de', '▁la', '▁1', 're', '▁à', '▁la', '▁5', 'e', '▁classe', ')', '▁de', 'v', 'ant', '▁le', '▁', 't', 'r', 'i', 'b', 'un', 'al', '▁de', '▁police']
```
We can see that a lot of tokens are just letters which is not ideal because not caring any sense. Let's increase the size to allow more words to compose the token list.

### 10000
Here is the tokenisation on the test text with a `vocab_size=10000` :
 ```
 ['▁L', "'", 'allocation', '▁aux', '▁adultes', '▁handicapées', '▁Toutefois', ',', '▁l', "'", 'allocation', '▁aux', '▁adultes', '▁handicapés', '▁Services', '▁placés', '▁sous', '▁l', "'", 'autorité', '▁du', '▁directeur', '▁de', '▁l', "'", 'administration', '▁pénitentiaire', '▁:', '▁le', '▁bureau', '▁central', '▁du', '▁renseignement', '▁pénitentiaire', '▁au', '▁sein', '▁de', '▁la', '▁direction', '▁de', '▁l', "'", 'administration', '▁pénitentiaire', '▁et', '▁les', '▁cellules', '▁interrégionale', 's', '▁du', '▁renseignement', '▁pénitentiaire', '▁au', '▁sein', '▁des', '▁direction', 's', '▁interrégionale', 's', '▁des', '▁services', '▁pénitentiaires', '▁et', '▁de', '▁la', '▁mission', '▁des', '▁services', '▁pénitentiaires', '▁d', "'", 'outre', '-', 'mer', '▁Service', '▁placé', '▁sous', '▁l', "'", 'autorité', '▁du', '▁directeur', '▁de', '▁l', "'", 'administration', '▁pénitentiaire', '▁:', '▁le', '▁Service', '▁national', '▁du', '▁renseignement', '▁pénitentiaire', '▁Pr', 'océ', 'd', 'ures', '▁criminelle', 's', '▁Cour', '▁d', "'", 'a', 's', 'sis', 'es', '▁et', '▁tribunal', '▁pour', '▁enfants', '▁statu', 'ant', '▁au', '▁criminel', '▁Pr', 'océ', 'd', 'ures', '▁correctionnel', 'les', '▁T', 'ribunal', '▁correctionnel', ',', '▁juge', '▁des', '▁enfants', '▁et', '▁tribunal', '▁pour', '▁enfants', '▁Pr', 'océ', 'd', 'ures', '▁contravention', 'n', 'elles', '▁A', 's', 'sistance', '▁d', "'", 'un', '▁prévenu', '▁majeur', '▁(', 'co', 'ntrave', 'nt', 'ions', '▁de', '▁police', '▁de', '▁la', '▁5', 'e', '▁classe', '),', '▁d', "'", 'un', '▁prévenu', '▁mineur', '▁ou', '▁majeur', '▁protégé', ',', '▁d', "'", 'une', '▁partie', '▁civile', '▁ou', '▁d', "'", 'un', '▁civile', 'ment', '▁responsable', '▁(', 'co', 'ntrave', 'nt', 'ions', '▁de', '▁police', '▁de', '▁la', '▁1', 're', '▁à', '▁la', '▁5', 'e', '▁classe', ')', '▁de', 'vant', '▁le', '▁tribunal', '▁de', '▁police', '▁Commission', 's', '▁administratives', '▁Commission', '▁d', "'", 'ex', 'p', 'ul', 'sion', '▁des', '▁étrangers', '▁', '−', '▁Commission', '▁de', '▁séjour', '▁des', '▁étrangers', '▁Pr', 'océ', 'du', 're', '▁de', '▁révision', '▁et', '▁de', '▁réexamen', '▁A', 's', 'sistance', '▁ou', '▁représentation', '▁du', '▁requér', 'ant', '▁ou', '▁de', '▁la', '▁partie', '▁civile', '▁(', 'instruction', '▁et', '▁jugement', ')', '▁de', 'vant', '▁la', '▁Cour', '▁de', '▁réexamen', '▁en', '▁matière', '▁pénale', '▁en', '▁Polynésie', '▁française', ',', '▁sous', '▁réserve', '▁des', '▁adaptations', '▁suivantes', '▁n', '°', '▁2019-15', '05', '▁du', '▁30', '▁décembre', '▁2019', '▁Pr', 'océ', 'd', 'ures', '▁criminelle', 's', '▁Cour', '▁d', "'", 'a', 's', 'sis', 'es', '▁et', '▁tribunal', '▁pour', '▁enfants', '▁statu', 'ant', '▁au', '▁criminel', '▁Pr', 'océ', 'd', 'ures', '▁correctionnel', 'les', '▁T', 'ribunal', '▁correctionnel', ',', '▁juge', '▁des', '▁enfants', '▁et', '▁tribunal', '▁pour', '▁enfants', '▁Pr', 'océ', 'd', 'ures', '▁contravention', 'n', 'elles', '▁A', 's', 'sistance', '▁d', "'", 'un', '▁prévenu', '▁majeur', '▁(', 'co', 'ntrave', 'nt', 'ions', '▁de', '▁police', '▁de', '▁la', '▁5', 'e', '▁classe', '),', '▁d', "'", 'un', '▁prévenu', '▁mineur', '▁ou', '▁majeur', '▁protégé', '▁(', 'co', 'ntrave', 'nt', 'ions', '▁de', '▁police', '▁de', '▁la', '▁1', 're', '▁à', '▁la', '▁5', 'e', '▁classe', ')', '▁de', 'vant', '▁le', '▁tribunal', '▁de', '▁police']
 ```
 Here there are much less letters but still some tokens that are not really caring sense like '▁Pr', 'océ', 'd', 'ures'`. Also, there are a lot of words that are entire while maybe some subwords would be more relevant. Or even groups of words.

### Lower case
I noticed that my problem with "Procédure" should come from the upper case, So I put all the corpus in lower case.
Here is the tokenisation on the test text with a `vocab_size=10000` in lower case:

```
['▁l', "'", 'allocation', '▁aux', '▁adultes', '▁handicapées', '▁toutefois', ',', '▁l', "'", 'allocation', '▁aux', '▁adultes', '▁handicapés', '▁services', '▁placés', '▁sous', '▁l', "'", 'autorité', '▁du', '▁directeur', '▁de', '▁l', "'", 'administration', '▁pénitentiaire', '▁:', '▁le', '▁bureau', '▁central', '▁du', '▁renseignement', '▁pénitentiaire', '▁au', '▁sein', '▁de', '▁la', '▁direction', '▁de', '▁l', "'", 'administration', '▁pénitentiaire', '▁et', '▁les', '▁cellules', '▁interrégionale', 's', '▁du', '▁renseignement', '▁pénitentiaire', '▁au', '▁sein', '▁des', '▁direction', 's', '▁interrégionale', 's', '▁des', '▁services', '▁pénitentiaires', '▁et', '▁de', '▁la', '▁mission', '▁des', '▁services', '▁pénitentiaires', '▁d', "'", 'outre', '-', 'mer', '▁service', '▁placé', '▁sous', '▁l', "'", 'autorité', '▁du', '▁directeur', '▁de', '▁l', "'", 'administration', '▁pénitentiaire', '▁:', '▁le', '▁service', '▁national', '▁du', '▁renseignement', '▁pénitentiaire', '▁procédures', '▁criminelle', 's', '▁cour', '▁d', "'", 'a', 's', 's', 'ises', '▁et', '▁tribunal', '▁pour', '▁enfants', '▁statu', 'ant', '▁au', '▁criminel', '▁procédures', '▁correctionnel', 'les', '▁tribunal', '▁correctionnel', ',', '▁juge', '▁des', '▁enfants', '▁et', '▁tribunal', '▁pour', '▁enfants', '▁procédures', '▁contravention', 'n', 'elles', '▁assistance', '▁d', "'", 'un', '▁prévenu', '▁majeur', '▁(', 'c', 'ont', 'rave', 'nt', 'ions', '▁de', '▁police', '▁de', '▁la', '▁5', 'e', '▁classe', '),', '▁d', "'", 'un', '▁prévenu', '▁mineur', '▁ou', '▁majeur', '▁protégé', ',', '▁d', "'", 'une', '▁partie', '▁civile', '▁ou', '▁d', "'", 'un', '▁civile', 'ment', '▁responsable', '▁(', 'c', 'ont', 'rave', 'nt', 'ions', '▁de', '▁police', '▁de', '▁la', '▁1', 're', '▁à', '▁la', '▁5', 'e', '▁classe', ')', '▁de', 'vant', '▁le', '▁tribunal', '▁de', '▁police', '▁commissions', '▁administratives', '▁commission', '▁d', "'", 'ex', 'p', 'ul', 'sion', '▁des', '▁étrangers', '▁', '−', '▁commission', '▁de', '▁séjour', '▁des', '▁étrangers', '▁procédure', '▁de', '▁révision', '▁et', '▁de', '▁réexamen', '▁assistance', '▁ou', '▁représentation', '▁du', '▁requér', 'ant', '▁ou', '▁de', '▁la', '▁partie', '▁civile', '▁(', 'instruction', '▁et', '▁jugement', ')', '▁de', 'vant', '▁la', '▁cour', '▁de', '▁réexamen', '▁en', '▁matière', '▁pénale', '▁en', '▁polynésie', '▁française', ',', '▁sous', '▁réserve', '▁des', '▁adaptations', '▁suivantes', '▁n', '°', '▁2019-15', '05', '▁du', '▁30', '▁décembre', '▁2019', '▁procédures', '▁criminelle', 's', '▁cour', '▁d', "'", 'a', 's', 's', 'ises', '▁et', '▁tribunal', '▁pour', '▁enfants', '▁statu', 'ant', '▁au', '▁criminel', '▁procédures', '▁correctionnel', 'les', '▁tribunal', '▁correctionnel', ',', '▁juge', '▁des', '▁enfants', '▁et', '▁tribunal', '▁pour', '▁enfants', '▁procédures', '▁contravention', 'n', 'elles', '▁assistance', '▁d', "'", 'un', '▁prévenu', '▁majeur', '▁(', 'c', 'ont', 'rave', 'nt', 'ions', '▁de', '▁police', '▁de', '▁la', '▁5', 'e', '▁classe', '),', '▁d', "'", 'un', '▁prévenu', '▁mineur', '▁ou', '▁majeur', '▁protégé', '▁(', 'c', 'ont', 'rave', 'nt', 'ions', '▁de', '▁police', '▁de', '▁la', '▁1', 're', '▁à', '▁la', '▁5', 'e', '▁classe', ')', '▁de', 'vant', '▁le', '▁tribunal', '▁de', '▁police']
```
There is still `▁téléprocédure`, `_procédure` and `▁procédures` in the `.vocab`, it does not seem ideal since they carry the same sense. I changed the `vocab_size` again and see that with `500` tokens I had just `_procédure` but "télé" needs to be constructed with the letters. With `1000` tokens I have `_télé` and `_procédure`. It seems way better. So by changing the `vocab_size` it is possible to imporve the tokens.